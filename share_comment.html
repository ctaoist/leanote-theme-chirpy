{{ if eq $.themeInfo.Comment.CommentType "Valine" }}
<script src='//{{$.themeInfo.CDN.Url}}/npm/valine@1/dist/Valine.min.js'></script>

<div id="vcomments" class="pt-2 pb-2">
</div>

<script type="text/javascript">
  new Valine({
    el: '#vcomments',
    appId: '{{$.themeInfo.Comment.Valine.appId}}', // Valine appID
    appKey: '{{$.themeInfo.Comment.Valine.appKey}}', // Valine appKey
    lang: 'zh-CN',
    visitor: false // 禁用自带的阅读量统计
  })
</script>

{{else if eq $.themeInfo.Comment.CommentType "Gitalk" }}

<div id="gitalk-container"></div>

<link rel="stylesheet" href="https://{{$.themeInfo.CDN.Url}}/npm/gitalk@1/dist/gitalk.min.css">
<script src="//{{$.themeInfo.CDN.Url}}/npm/gitalk@1/dist/gitalk.min.js"></script>

<script>
  var gitalk = new Gitalk({
    clientID: '{{$.themeInfo.Comment.Gitalk.clientID}}',
    clientSecret: '{{$.themeInfo.Comment.Gitalk.clientSecret}}',
    repo: '{{$.themeInfo.Comment.Gitalk.repo}}',
    owner: '{{$.themeInfo.Comment.Gitalk.owner}}', // 仓库的创建者
    admin: {{$.themeInfo.Comment.Gitalk.admin}}, // 如果仓库有多个人可以操作，那么在这里以数组形式写出
    id: '{{$.post.Title}}',      // Ensure uniqueness and length less than 50
    distractionFreeMode: false,  // Facebook-like distraction free mode
    labels: ['Gitalk']
  });

  gitalk.render('gitalk-container');
</script>

{{ else if eq $.themeInfo.Comment.CommentType "Artalk" }}

<div id="acomments"></div>
<link href="https://zhangyunjie.com.cn:23366/dist/Artalk.css" rel="stylesheet">
<script src="https://zhangyunjie.com.cn:23366/dist/Artalk.js"></script>

<script>
  Artalk.init({
    el: '#acomments', // 绑定元素的 Selector
    pageKey: '', // 固定链接 (留空自动获取)
    pageTitle: '', // 页面标题 (留空自动获取)
    server: '{{$.themeInfo.Comment.Artalk.server}}', // 后端地址
    site: '{{$.themeInfo.Comment.Artalk.site}}', // 你的站点名
    emoticons: '{{$.themeInfo.Comment.Artalk.emoticons}}',
    gravatar: {
      mirror: '{{$.themeInfo.Comment.Artalk.gravatar.mirror}}',
      params: '{{$.themeInfo.Comment.Artalk.gravatar.params}}',
    },
    avatarURLBuilder: (comment) => {
      return `/api/avatar?email=${comment.email_encrypted}`
    }
  })
</script>

{{ end }}
